<!DOCTYPE html> <!-- Declaración que indica que el documento está escrito en HTML5 -->
<html lang="es"> <!-- Atributo de idioma -->

<head>
    <meta charset="UTF-8"> <!-- Permite caracteres especiales -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Página responsive -->
    <title>Service Poli</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon"> <!-- Icono favicon -->
    <link rel="stylesheet" href="styles.css"> <!-- Enlace a la hoja de estilos -->

</head>

<body>
    <nav> <!--Barra de navegación-->
        <div class="logo">
            <img src="imagenes/logo.png" alt="Logo de Service Poli">
            <a href="index.html" class="titulo-link">
                <h2 class="titulo-texto">SERVICE POLI</h2>
            </a>
        </div>
    </nav>

    <div class="divider"></div> <!-- Línea divisora después de los links -->
    <main class="login-layout">
        <div class="login-image">
            <img src="imagenes/icon.png" alt="Logo Service Poli">
        </div>

        <section class="login-box">
            <h1><i>¡¡Te damos la bienvenida!!</i></h1>
            <p class="subtitle">Ingresa tus datos para gestionar tus servicios.</p>

            <form>
                <label for="usuario">Nombre de Usuario</label>
                <input type="text" id="usuario" name="usuario" placeholder="Nombre de Usuario" required>
            
                <label for="password">Contraseña</label>
                <input type="password" id="password" name="password" placeholder="Contraseña" required>
            
                <button type="submit" class="login-button">Iniciar Sesión</button>
           

                <a href="ForgotPassword.html" class="forgot-password">¿Has olvidado tu contraseña?</a>

                <a href="registro.html" target="_blank" class="register-button">
                    Registrarse
                </a>

            </form>

            <script>
                async function iniciarSesion(event) {
                    event.preventDefault(); // Evita que el formulario se envíe
            
                    // Obtén los valores ingresados por el usuario
                    const usuarioIngresado = document.getElementById('usuario').value;
                    const passwordIngresado = document.getElementById('password').value;
            
                    try {
                        // Carga el archivo JSON con las credenciales
                        const response = await fetch('./login.json'); // Asegúrate de usar un servidor local
                        if (!response.ok) {
                            throw new Error('No se pudo cargar el archivo JSON');
                        }
                        const credenciales = await response.json();
            
                        // Valida las credenciales
                        if (usuarioIngresado === credenciales.usuario && passwordIngresado === credenciales.password) {
                            alert('Inicio de sesión exitoso');
                            // Redirige a otra página o realiza alguna acción
                            window.location.href = 'bienvenida.html';
                        } else {
                            alert('Usuario o contraseña incorrectos');
                        }
                    } catch (error) {
                        console.error('Error:', error);
                        alert('Hubo un problema al iniciar sesión. Intenta nuevamente.');
                    }
                }
            
                // Asocia la función al formulario
                document.querySelector('form').addEventListener('submit', iniciarSesion);
            </script>

            </form>
        </section>
    </main>

</body>

</html>